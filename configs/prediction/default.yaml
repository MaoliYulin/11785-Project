indir: no  # to be overriden in CLI
outdir: no  # to be overriden in CLI

model:
  path: no  # to be overriden in CLI
  checkpoint: best.ckpt

dataset:
  kind: default
  img_suffix: .png
  pad_out_to_modulo: 8

device: cuda
out_key: inpainted

#refine: True # refiner will only run if this is True False
#refiner:
#  gpu_ids: "0"
#  modulo: ${dataset.pad_out_to_modulo}
#  n_iters: 15 # 15
#  lr: 0.002 # 0.002
#  min_side: 512
#  max_scales: 3
#  px_budget: 18000000
#
#  ablation_mode: "R0"
#  lambda_edge: 1.0
#  lambda_perc: 0.1
#
#  lambda_freq: 0.05
#  lr_local: 0.002        # R7 （z1） 0.001
#  lr_global: 0.002       # R7 （z2） 0.002
#  n_global_only: 5       # R7
#  lambda_struct: 0.5     # R8

refine: False # refiner will only run if this is True False
refiner:
  gpu_ids: "0" # the GPU ids of the machine to use. If only single GPU, use: "0,"
  modulo: ${dataset.pad_out_to_modulo}
  n_iters: 15 # number of iterations of refinement for each scale
  lr: 0.002 # learning rate
  min_side: 512 # all sides of image on all scales should be >= min_side / sqrt(2)
  max_scales: 3 # max number of downscaling scales for the image-mask pyramid
  px_budget: 1800000 # pixels budget. Any image will be resized to satisfy height*width <= px_budget






#refiner:
#  gpu_ids: "0"
#  modulo: ${dataset.pad_out_to_modulo}
#  n_iters: 5
#  lr: 0.002
#  min_side: 512
#  max_scales: 1
#  px_budget: 268435456
#
#  lambda_data: 1.0
#  lambda_tv: 0.1
#  lambda_edge: 1.0